{"remainingRequest":"/Users/muhammetmucahit/Desktop/Auth0/Login-App-Auth0/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/muhammetmucahit/Desktop/Auth0/Login-App-Auth0/src/views/Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/muhammetmucahit/Desktop/Auth0/Login-App-Auth0/src/views/Profile.vue","mtime":1571755641508},{"path":"/Users/muhammetmucahit/Desktop/Auth0/Login-App-Auth0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammetmucahit/Desktop/Auth0/Login-App-Auth0/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/muhammetmucahit/Desktop/Auth0/Login-App-Auth0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/muhammetmucahit/Desktop/Auth0/Login-App-Auth0/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import authConfig from \"../../auth_config.json\";\n\nexport default {\n  data() {\n    return {\n      profile: this.$auth.profile\n    };\n  },\n  methods: {\n    handleLoginEvent(data) {\n      this.profile = data.profile;\n    },\n    async deleteUser() {\n      try {\n        if (confirm(\"Do you really want to delete?\")) {\n          var accessToken = await this.$auth.getAccessToken();\n          await this.$http.delete(\n            \"http://localhost:5000/api/users\",\n            {\n              headers: {\n                Authorization: `Bearer ${accessToken}`\n              }\n            }\n          );\n\n          await this.$http.delete(\n            \"https://rankai.eu.auth0.com/api/v2/users/\" + this.profile.sub,\n            {\n              headers: {\n                Authorization: `Bearer ${accessToken}`\n              }\n            }\n          );\n\n          window.location.reload();\n        }\n      } catch (e) {\n        // eslint-disable-next-line\n        console.log(e);\n      }\n    }\n  }\n};\n",{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row align-items-center profile-header\">\n      <div class=\"col-md-2 mb-3\">\n        <img\n          :src=\"profile.picture\"\n          alt=\"User's profile picture\"\n          class=\"rounded-circle img-fluid profile-picture\"\n        />\n      </div>\n      <div class=\"col-md text-center text-md-left\">\n        <h2>{{ profile.name }}</h2>\n        <p class=\"lead text-muted\">{{ profile.email }}</p>\n        <button class=\"btn btn-secondary\" @click=\"deleteUser()\">Remove Account</button>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <pre v-highlightjs=\"JSON.stringify(profile, null, 2)\" class=\"rounded w-100\">\n        <code class=\"json\"></code>\n      </pre>\n    </div>\n  </div>\n</template>\n\n<script>\n// import authConfig from \"../../auth_config.json\";\n\nexport default {\n  data() {\n    return {\n      profile: this.$auth.profile\n    };\n  },\n  methods: {\n    handleLoginEvent(data) {\n      this.profile = data.profile;\n    },\n    async deleteUser() {\n      try {\n        if (confirm(\"Do you really want to delete?\")) {\n          var accessToken = await this.$auth.getAccessToken();\n          await this.$http.delete(\n            \"http://localhost:5000/api/users\",\n            {\n              headers: {\n                Authorization: `Bearer ${accessToken}`\n              }\n            }\n          );\n\n          await this.$http.delete(\n            \"https://rankai.eu.auth0.com/api/v2/users/\" + this.profile.sub,\n            {\n              headers: {\n                Authorization: `Bearer ${accessToken}`\n              }\n            }\n          );\n\n          window.location.reload();\n        }\n      } catch (e) {\n        // eslint-disable-next-line\n        console.log(e);\n      }\n    }\n  }\n};\n</script>\n"]}]}